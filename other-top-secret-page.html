<html>
  <body>
    <h1>Liam's top secret page</h1>
    <h2>Average positive range of recent candles</h2>
    <input id="fetchUrlInput" type="text" value="https://api.binance.com/api/v3/klines?symbol=BTCUSDT&interval=4h&limit=10" />
    <button onclick="">Bang</button>
    <pre id="loggingArea"></pre>
    <script>
        var pc = (a, b) => {
            if (a === b) return 0; // avoid any floating point crazyness
            return (100 - (b / (a / 100))) * -1;
        }

        const doYoBinnis = () => {
            fetch(fetchUrlInput.value).then(d => d.json()).then(data => {
                var buyInterval = 10;
                var positionsLimit = 10;
                var positions = [];
                var takeProfit = 5; // should be with a recent candle size or such, but this is just a quick prototype
                var fees = 0.2
                var pot = 0;
    
                var averagePositiveRange = x.map(c => c[2] - c[1]).reduce((a,b) => a + b)/x.length;
                loggingArea.innerHTML = averagePositiveRange;
            })
        }
    </script>
  </body>
</html>
