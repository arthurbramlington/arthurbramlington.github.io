<html>
  <body>
    <h1>Liam's top secret page</h1>
    <h2>Average positive range of recent candles</h2>
    <input id="fetchUrlInput" type="text" value="https://api.binance.com/api/v3/klines?symbol=BTCUSDT&interval=4h&limit=5" />
    <button onclick="doYoBinnis()">Bang</button>
    <pre id="loggingArea"></pre>
    <script>
        var pc = (a, b) => {
            if (a === b) return 0; // avoid any floating point crazyness
            return (100 - (b / (a / 100))) * -1;
        }

        const doYoBinnis = () => {
            fetch(fetchUrlInput.value).then(d => d.json()).then(data => {
                var averagePositiveRange = data.map(c => c[2] - c[1]).reduce((a,b) => a + b)/data.length;
                loggingArea.innerHTML = averagePositiveRange;
            })
        }
    </script>
  </body>
</html>
